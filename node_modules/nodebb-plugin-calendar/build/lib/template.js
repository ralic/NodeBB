'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _intl = require('intl');

var _intl2 = _interopRequireDefault(_intl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Intl.NumberFormat = _intl2.default.NumberFormat;
Intl.DateTimeFormat = _intl2.default.DateTimeFormat;

const stringOptions = {
  date: {
    weekday: 'long',
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  },
  time: {
    hour: 'numeric',
    minute: 'numeric'
  },
  full: {}
};

stringOptions.full = _extends({}, stringOptions.date, stringOptions.time);

stringOptions.UTC = Object.keys(stringOptions).reduce((utc, key) => _extends({}, utc, {
  [key]: _extends({}, stringOptions[key], {
    timeZone: 'UTC',
    timeZoneName: 'short'
  })
}), {});

const formatDates = (s, e, allday, lang, utc) => {
  const start = new Date(s);
  const end = new Date(e);

  const options = utc ? stringOptions.UTC : stringOptions;

  if (Math.abs(s - e) <= 60 * 1000) {
    if (allday) {
      return start.toLocaleDateString(lang, options.date);
    }
    return start.toLocaleString(lang, options.full);
  }

  if (start.getDate() === end.getDate() && start.getMonth() === end.getMonth() && start.getYear() === end.getYear()) {
    if (allday) {
      return start.toLocaleDateString(lang, options.date);
    }
    return `${ start.toLocaleDateString(lang, options.date) }<br>` + `${ start.toLocaleTimeString(lang, options.time) }` + ` - ${ end.toLocaleTimeString(lang, options.time) }`;
  }

  if (allday) {
    return `${ start.toLocaleDateString(lang, options.date) }` + ` - ${ end.toLocaleDateString(lang, options.date) }`;
  }
  return `${ start.toLocaleString(lang, options.full) } - ` + `${ end.toLocaleString(lang, options.full) }`;
};

const zero = (0, _moment2.default)(0);

const makeListElement = n => {
  const li = `<li data-value="${ n }">${ zero.to(n, true) }</li>`;
  return li;
};

const postTemplate = (event, lang) => {
  // const dateString = formatDates(
  //   event.startDate,
  //   event.endDate,
  //   event.allday,
  //   lang
  // );
  const dateStringUTC = formatDates(event.startDate, event.endDate, event.allday, lang, true).replace('<br>', ' | ');

  const responsesTemplate = `
<div class="plugin-calendar-event-responses">
  <i class="fa fa-reply" aria-hidden="true"></i>
  <div>
    <div class="plugin-calendar-event-responses-user btn-group">
      <button data-value="no" type="button" class="btn btn-sm btn-danger active">
        [[calendar:response_no]]
      </button>
      <button data-value="maybe" type="button" class="btn btn-sm btn-default">
        [[calendar:response_maybe]]
      </button>
      <button data-value="yes" type="button" class="btn btn-sm btn-success">
        [[calendar:response_yes]]
      </button>
    </div>
    <div class="panel-group plugin-calendar-event-responses-lists" data-loaded="false">
      <div class="panel panel-default closed">
        <div class="panel-heading">
          <a role="button" data-toggle="collapse" href="#"
          class="btn btn-sm btn-info" aria-expanded="true">
            [[calendar:response_yes]]
            <i class="fa fa-chevron-down pull-right"></i>
          </a>
        </div>
        <div class="panel-collapse">
          <div class="panel-body">
            <ul class="plugin-calendar-event-responses-list-yes">
              <!-- yes responses go here -->
            </ul>
          </div>
        </div>
      </div>
      <div class="panel panel-default closed">
        <div class="panel-heading">
          <a role="button" data-toggle="collapse" href="#"
          class="btn btn-sm btn-link" aria-expanded="true">
            [[calendar:response_maybe]]
            <i class="fa fa-chevron-down pull-right"></i>
          </a>
        </div>
        <div class="panel-collapse">
          <div class="panel-body">
            <ul class="plugin-calendar-event-responses-list-maybe">
              <!-- maybe responses go here -->
            </ul>
          </div>
        </div>
      </div>
      <div class="panel panel-default closed">
        <div class="panel-heading">
          <a role="button" data-toggle="collapse" href="#"
          class="btn btn-sm btn-warning" aria-expanded="true">
            [[calendar:response_no]]
            <i class="fa fa-chevron-down pull-right"></i>
          </a>
        </div>
        <div class="panel-collapse">
          <div class="panel-body">
            <ul class="plugin-calendar-event-responses-list-no">
              <!-- no responses go here -->
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`;

  const html = `
<div class="plugin-calendar-event panel panel-success">
  <div class="plugin-calendar-event-name panel-heading">
    ${ event.name }
  </div>
  <div class="panel-body">
    <div class="plugin-calendar-event-date">
      <i class="fa fa-clock-o" aria-hidden="true"></i>
      <a
        data-parsed="false"
        data-allday="${ event.allday }"
        data-startDate="${ event.startDate }"
        data-endDate="${ event.endDate }"
        title="${ dateStringUTC }"
        data-original-title="${ dateStringUTC }"
        class="plugin-calendar-time-date-view"
      >Hover for UTC date</a>
    </div>
    ${ event.location.length ? `
    <div class="plugin-calendar-event-location">
      <i class="fa fa-location-arrow" aria-hidden="true"></i>
      <span>${ event.location }<span>
    </div>
    ` : '' }
    ${ event.description.length ? `
    <div class="plugin-calendar-event-description">
      <i class="fa fa-info-circle" aria-hidden="true"></i>
      <div>${ event.description }</div>
    </div>
    ` : '' }
    ${ event.reminders.length ? `
    <div class="plugin-calendar-event-reminders">
      <i class="fa fa-bell" aria-hidden="true"></i>
      <ul>
        ${ event.reminders.sort((a, b) => a - b).map(makeListElement).join('\n') }
      </ul>
    </div>
    ` : '' }
    ${ responsesTemplate }
  </div>
</div>`.trim();

  return html;
};

exports.default = postTemplate;
// export { formatDates };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvdGVtcGxhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFDQSxLQUFLLFlBQUwsR0FBb0IsZUFBYSxZQUFqQztBQUNBLEtBQUssY0FBTCxHQUFzQixlQUFhLGNBQW5DOztBQUVBLE1BQU0sZ0JBQWdCO0FBQ3BCLFFBQU07QUFDSixhQUFTLE1BREw7QUFFSixVQUFNLFNBRkY7QUFHSixXQUFPLE1BSEg7QUFJSixTQUFLO0FBSkQsR0FEYztBQU9wQixRQUFNO0FBQ0osVUFBTSxTQURGO0FBRUosWUFBUTtBQUZKLEdBUGM7QUFXcEIsUUFBTTtBQVhjLENBQXRCOztBQWNBLGNBQWMsSUFBZCxnQkFDSyxjQUFjLElBRG5CLEVBRUssY0FBYyxJQUZuQjs7QUFLQSxjQUFjLEdBQWQsR0FBb0IsT0FBTyxJQUFQLENBQVksYUFBWixFQUEyQixNQUEzQixDQUFrQyxDQUFDLEdBQUQsRUFBTSxHQUFOLGtCQUNqRCxHQURpRDtBQUVwRCxHQUFDLEdBQUQsZ0JBQ0ssY0FBYyxHQUFkLENBREw7QUFFRSxjQUFVLEtBRlo7QUFHRSxrQkFBYztBQUhoQjtBQUZvRCxFQUFsQyxFQU9oQixFQVBnQixDQUFwQjs7QUFTQSxNQUFNLGNBQWMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE1BQVAsRUFBZSxJQUFmLEVBQXFCLEdBQXJCLEtBQTZCO0FBQy9DLFFBQU0sUUFBUSxJQUFJLElBQUosQ0FBUyxDQUFULENBQWQ7QUFDQSxRQUFNLE1BQU0sSUFBSSxJQUFKLENBQVMsQ0FBVCxDQUFaOztBQUVBLFFBQU0sVUFBVSxNQUFNLGNBQWMsR0FBcEIsR0FBMEIsYUFBMUM7O0FBRUEsTUFBSSxLQUFLLEdBQUwsQ0FBUyxJQUFJLENBQWIsS0FBbUIsS0FBSyxJQUE1QixFQUFrQztBQUNoQyxRQUFJLE1BQUosRUFBWTtBQUNWLGFBQU8sTUFBTSxrQkFBTixDQUF5QixJQUF6QixFQUErQixRQUFRLElBQXZDLENB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bW9tZW50JztcbmltcG9ydCBJbnRsUG9seWZpbGwgZnJvbSAnaW50bCc7XG5JbnRsLk51bWJlckZvcm1hdCA9IEludGxQb2x5ZmlsbC5OdW1iZXJGb3JtYXQ7XG5JbnRsLkRhdGVUaW1lRm9ybWF0ID0gSW50bFBvbHlmaWxsLkRhdGVUaW1lRm9ybWF0O1xuXG5jb25zdCBzdHJpbmdPcHRpb25zID0ge1xuICBkYXRlOiB7XG4gICAgd2Vla2RheTogJ2xvbmcnLFxuICAgIHllYXI6ICdudW1lcmljJyxcbiAgICBtb250aDogJ2xvbmcnLFxuICAgIGRheTogJ251bWVyaWMnLFxuICB9LFxuICB0aW1lOiB7XG4gICAgaG91cjogJ251bWVyaWMnLFxuICAgIG1pbnV0ZTogJ251bWVyaWMnLFxuICB9LFxuICBmdWxsOiB7fSxcbn07XG5cbnN0cmluZ09wdGlvbnMuZnVsbCA9IHtcbiAgLi4uc3RyaW5nT3B0aW9ucy5kYXRlLFxuICAuLi5zdHJpbmdPcHRpb25zLnRpbWUsXG59O1xuXG5zdHJpbmdPcHRpb25zLlVUQyA9IE9iamVjdC5rZXlzKHN0cmluZ09wdGlvbnMpLnJlZHVjZSgodXRjLCBrZXkpID0+ICh7XG4gIC4uLnV0YyxcbiAgW2tleV06IHtcbiAgICAuLi5zdHJpbmdPcHRpb25zW2tleV0sXG4gICAgdGltZVpvbmU6ICdVVEMnLFxuICAgIHRpbWVab25lTmFtZTogJ3Nob3J0JyxcbiAgfSxcbn0pLCB7fSk7XG5cbmNvbnN0IGZvcm1hdERhdGVzID0gKHMsIGUsIGFsbGRheSwgbGFuZywgdXRjKSA9PiB7XG4gIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUocyk7XG4gIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGUpO1xuXG4gIGNvbnN0IG9wdGlvbnMgPSB1dGMgPyBzdHJpbmdPcHRpb25zLlVUQyA6IHN0cmluZ09wdGlvbnM7XG5cbiAgaWYgKE1hdGguYWJzKHMgLSBlKSA8PSA2MCAqIDEwMDApIHtcbiAgICBpZiAoYWxsZGF5KSB7XG4gICAgICByZXR1cm4gc3RhcnQudG9Mb2NhbGVEYXRlU3RyaW5nKGxhbmcsIG9wdGlvbnMuZGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdGFydC50b0xvY2FsZVN0cmluZyhsYW5nLCBvcHRpb25zLmZ1bGwpO1xuICB9XG5cbiAgaWYgKFxuICAgIHN0YXJ0LmdldERhdGUoKSA9PT0gZW5kLmdldERhdGUoKSAmJlxuICAgIHN0YXJ0LmdldE1vbnRoKCkgPT09IGVuZC5nZXRNb250aCgpICYmXG4gICAgc3RhcnQuZ2V0WWVhcigpID09PSBlbmQuZ2V0WWVhcigpXG4gICkge1xuICAgIGlmIChhbGxkYXkpIHtcbiAgICAgIHJldHVybiBzdGFydC50b0xvY2FsZURhdGVTdHJpbmcobGFuZywgb3B0aW9ucy5kYXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIGAke3N0YXJ0LnRvTG9jYWxlRGF0ZVN0cmluZyhsYW5nLCBvcHRpb25zLmRhdGUpfTxicj5gICtcbiAgICAgIGAke3N0YXJ0LnRvTG9jYWxlVGltZVN0cmluZyhsYW5nLCBvcHRpb25zLnRpbWUpfWAgK1xuICAgICAgYCAtICR7ZW5kLnRvTG9jYWxlVGltZVN0cmluZyhsYW5nLCBvcHRpb25zLnRpbWUpfWA7XG4gIH1cblxuICBpZiAoYWxsZGF5KSB7XG4gICAgcmV0dXJuIGAke3N0YXJ0LnRvTG9jYWxlRGF0ZVN0cmluZyhsYW5nLCBvcHRpb25zLmRhdGUpfWAgK1xuICAgICAgYCAtICR7ZW5kLnRvTG9jYWxlRGF0ZVN0cmluZyhsYW5nLCBvcHRpb25zLmRhdGUpfWA7XG4gIH1cbiAgcmV0dXJuIGAke3N0YXJ0LnRvTG9jYWxlU3RyaW5nKGxhbmcsIG9wdGlvbnMuZnVsbCl9IC0gYCArXG4gICAgYCR7ZW5kLnRvTG9jYWxlU3RyaW5nKGxhbmcsIG9wdGlvbnMuZnVsbCl9YDtcbn07XG5cbmNvbnN0IHplcm8gPSBtb21lbnQoMCk7XG5cbmNvbnN0IG1ha2VMaXN0RWxlbWVudCA9IG4gPT4ge1xuICBjb25zdCBsaSA9IGA8bGkgZGF0YS12YWx1ZT1cIiR7bn1cIj4ke3plcm8udG8obiwgdHJ1ZSl9PC9saT5gO1xuICByZXR1cm4gbGk7XG59O1xuXG5jb25zdCBwb3N0VGVtcGxhdGUgPSAoZXZlbnQsIGxhbmcpID0+IHtcbiAgLy8gY29uc3QgZGF0ZVN0cmluZyA9IGZvcm1hdERhdGVzKFxuICAvLyAgIGV2ZW50LnN0YXJ0RGF0ZSxcbiAgLy8gICBldmVudC5lbmREYXRlLFxuICAvLyAgIGV2ZW50LmFsbGRheSxcbiAgLy8gICBsYW5nXG4gIC8vICk7XG4gIGNvbnN0IGRhdGVTdHJpbmdVVEMgPSBmb3JtYXREYXRlcyhcbiAgICBldmVudC5zdGFydERhdGUsXG4gICAgZXZlbnQuZW5kRGF0ZSxcbiAgICBldmVudC5hbGxkYXksXG4gICAgbGFuZyxcbiAgICB0cnVlXG4gICkucmVwbGFjZSgnPGJyPicsICcgfCAnKTtcblxuICBjb25zdCByZXNwb25zZXNUZW1wbGF0ZSA9IGBcbjxkaXYgY2xhc3M9XCJwbHVnaW4tY2FsZW5kYXItZXZlbnQtcmVzcG9uc2VzXCI+XG4gIDxpIGNsYXNzPVwiZmEgZmEtcmVwbHlcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gIDxkaXY+XG4gICAgPGRpdiBjbGFzcz1cInBsdWdpbi1jYWxlbmRhci1ldmVudC1yZXNwb25zZXMtdXNlciBidG4tZ3JvdXBcIj5cbiAgICAgIDxidXR0b24gZGF0YS12YWx1ZT1cIm5vXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyIGFjdGl2ZVwiPlxuICAgICAgICBbW2NhbGVuZGFyOnJlc3BvbnNlX25vXV1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBkYXRhLXZhbHVlPVwibWF5YmVcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCI+XG4gICAgICAgIFtbY2FsZW5kYXI6cmVzcG9uc2VfbWF5YmVdXVxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uIGRhdGEtdmFsdWU9XCJ5ZXNcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzXCI+XG4gICAgICAgIFtbY2FsZW5kYXI6cmVzcG9uc2VfeWVzXV1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1ncm91cCBwbHVnaW4tY2FsZW5kYXItZXZlbnQtcmVzcG9uc2VzLWxpc3RzXCIgZGF0YS1sb2FkZWQ9XCJmYWxzZVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHQgY2xvc2VkXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGEgcm9sZT1cImJ1dHRvblwiIGRhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIiBocmVmPVwiI1wiXG4gICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1pbmZvXCIgYXJpYS1leHBhbmRlZD1cInRydWVcIj5cbiAgICAgICAgICAgIFtbY2FsZW5kYXI6cmVzcG9uc2VfeWVzXV1cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtY2hldnJvbi1kb3duIHB1bGwtcmlnaHRcIj48L2k+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbGxhcHNlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cInBsdWdpbi1jYWxlbmRhci1ldmVudC1yZXNwb25zZXMtbGlzdC15ZXNcIj5cbiAgICAgICAgICAgICAgPCEtLSB5ZXMgcmVzcG9uc2VzIGdvIGhlcmUgLS0+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHQgY2xvc2VkXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGEgcm9sZT1cImJ1dHRvblwiIGRhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIiBocmVmPVwiI1wiXG4gICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1saW5rXCIgYXJpYS1leHBhbmRlZD1cInRydWVcIj5cbiAgICAgICAgICAgIFtbY2FsZW5kYXI6cmVzcG9uc2VfbWF5YmVdXVxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1jaGV2cm9uLWRvd24gcHVsbC1yaWdodFwiPjwvaT5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29sbGFwc2VcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwicGx1Z2luLWNhbGVuZGFyLWV2ZW50LXJlc3BvbnNlcy1saXN0LW1heWJlXCI+XG4gICAgICAgICAgICAgIDwhLS0gbWF5YmUgcmVzcG9uc2VzIGdvIGhlcmUgLS0+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHQgY2xvc2VkXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGEgcm9sZT1cImJ1dHRvblwiIGRhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIiBocmVmPVwiI1wiXG4gICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi13YXJuaW5nXCIgYXJpYS1leHBhbmRlZD1cInRydWVcIj5cbiAgICAgICAgICAgIFtbY2FsZW5kYXI6cmVzcG9uc2Vfbm9dXVxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1jaGV2cm9uLWRvd24gcHVsbC1yaWdodFwiPjwvaT5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29sbGFwc2VcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwicGx1Z2luLWNhbGVuZGFyLWV2ZW50LXJlc3BvbnNlcy1saXN0LW5vXCI+XG4gICAgICAgICAgICAgIDwhLS0gbm8gcmVzcG9uc2VzIGdvIGhlcmUgLS0+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PmA7XG5cbiAgY29uc3QgaHRtbCA9IGBcbjxkaXYgY2xhc3M9XCJwbHVnaW4tY2FsZW5kYXItZXZlbnQgcGFuZWwgcGFuZWwtc3VjY2Vzc1wiPlxuICA8ZGl2IGNsYXNzPVwicGx1Z2luLWNhbGVuZGFyLWV2ZW50LW5hbWUgcGFuZWwtaGVhZGluZ1wiPlxuICAgICR7ZXZlbnQubmFtZX1cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCI+XG4gICAgPGRpdiBjbGFzcz1cInBsdWdpbi1jYWxlbmRhci1ldmVudC1kYXRlXCI+XG4gICAgICA8aSBjbGFzcz1cImZhIGZhLWNsb2NrLW9cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICA8YVxuICAgICAgICBkYXRhLXBhcnNlZD1cImZhbHNlXCJcbiAgICAgICAgZGF0YS1hbGxkYXk9XCIke2V2ZW50LmFsbGRheX1cIlxuICAgICAgICBkYXRhLXN0YXJ0RGF0ZT1cIiR7ZXZlbnQuc3RhcnREYXRlfVwiXG4gICAgICAgIGRhdGEtZW5kRGF0ZT1cIiR7ZXZlbnQuZW5kRGF0ZX1cIlxuICAgICAgICB0aXRsZT1cIiR7ZGF0ZVN0cmluZ1VUQ31cIlxuICAgICAgICBkYXRhLW9yaWdpbmFsLXRpdGxlPVwiJHtkYXRlU3RyaW5nVVRDfVwiXG4gICAgICAgIGNsYXNzPVwicGx1Z2luLWNhbGVuZGFyLXRpbWUtZGF0ZS12aWV3XCJcbiAgICAgID5Ib3ZlciBmb3IgVVRDIGRhdGU8L2E+XG4gICAgPC9kaXY+XG4gICAgJHtldmVudC5sb2NhdGlvbi5sZW5ndGggPyBgXG4gICAgPGRpdiBjbGFzcz1cInBsdWdpbi1jYWxlbmRhci1ldmVudC1sb2NhdGlvblwiPlxuICAgICAgPGkgY2xhc3M9XCJmYSBmYS1sb2NhdGlvbi1hcnJvd1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgIDxzcGFuPiR7ZXZlbnQubG9jYXRpb259PHNwYW4+XG4gICAgPC9kaXY+XG4gICAgYCA6ICcnfVxuICAgICR7ZXZlbnQuZGVzY3JpcHRpb24ubGVuZ3RoID8gYFxuICAgIDxkaXYgY2xhc3M9XCJwbHVnaW4tY2FsZW5kYXItZXZlbnQtZGVzY3JpcHRpb25cIj5cbiAgICAgIDxpIGNsYXNzPVwiZmEgZmEtaW5mby1jaXJjbGVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICA8ZGl2PiR7ZXZlbnQuZGVzY3JpcHRpb259PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgYCA6ICcnfVxuICAgICR7ZXZlbnQucmVtaW5kZXJzLmxlbmd0aCA/IGBcbiAgICA8ZGl2IGNsYXNzPVwicGx1Z2luLWNhbGVuZGFyLWV2ZW50LXJlbWluZGVyc1wiPlxuICAgICAgPGkgY2xhc3M9XCJmYSBmYS1iZWxsXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgPHVsPlxuICAgICAgICAke2V2ZW50LnJlbWluZGVyc1xuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhIC0gYilcbiAgICAgICAgICAubWFwKG1ha2VMaXN0RWxlbWVudCkuam9pbignXFxuJyl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICAgIGAgOiAnJ31cbiAgICAke3Jlc3BvbnNlc1RlbXBsYXRlfVxuICA8L2Rpdj5cbjwvZGl2PmAudHJpbSgpO1xuXG4gIHJldHVybiBodG1sO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcG9zdFRlbXBsYXRlO1xuLy8gZXhwb3J0IHsgZm9ybWF0RGF0ZXMgfTtcbiJdfQ==