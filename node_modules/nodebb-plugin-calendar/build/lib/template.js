'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formatDates = undefined;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const justDate = 'dddd, LL';
const justTime = 'LT';
const dateAndTime = 'LLLL';

const formatDates = (s, e, allday, lang, utc) => {
  const mom = utc ? _moment2.default.utc : _moment2.default;
  _moment2.default.locale(lang);

  const start = mom(s);
  const end = mom(e);

  if (Math.abs(s - e) <= 60 * 1000) {
    if (allday) {
      return start.format(justDate);
    }
    return start.format(dateAndTime);
  }

  if (start.dayOfYear() === end.dayOfYear() && start.year() === end.year()) {
    if (allday) {
      return start.format(justDate);
    }
    return `${ start.format(justDate) }<br>` + `${ start.format(justTime) } - ${ end.format(justTime) }`;
  }

  if (allday) {
    return `${ start.format(justDate) } - ${ end.format(justDate) }`;
  }
  return `${ start.format(dateAndTime) } - ${ end.format(dateAndTime) }`;
};

const zero = (0, _moment2.default)(0);

const makeListElement = n => {
  const li = `<li data-value="${ n }">${ zero.to(n, true) }</li>`;
  return li;
};

const postTemplate = (event, lang) => {
  const dateStringUTC = formatDates(event.startDate, event.endDate, event.allday, lang, true).replace('<br>', ' | ');

  const responsesTemplate = `
<div class="plugin-calendar-event-responses">
  <i class="fa fa-reply" aria-hidden="true"></i>
  <div class="col-xs-12 col-sm-6">
    <div class="plugin-calendar-event-responses-user btn-group">
      <button data-value="no" type="button" class="btn btn-sm btn-danger">
        [[calendar:response_no]]
      </button>
      <button data-value="maybe" type="button" class="btn btn-sm btn-default">
        [[calendar:response_maybe]]
      </button>
      <button data-value="yes" type="button" class="btn btn-sm btn-success">
        [[calendar:response_yes]]
      </button>
    </div>
    <div class="panel-group plugin-calendar-event-responses-lists" data-loaded="false">
      <div class="panel panel-default closed">
        <div class="panel-heading">
          <a role="button" data-toggle="collapse" href="#"
          class="btn btn-sm btn-info" aria-expanded="true">
            <i class="fa fa-chevron-down pull-right"></i>
            [[calendar:response_yes]]
          </a>
        </div>
        <div class="panel-collapse">
          <div class="panel-body">
            <ul class="plugin-calendar-event-responses-list-yes">
              <!-- yes responses go here -->
            </ul>
          </div>
        </div>
      </div>
      <div class="panel panel-default closed">
        <div class="panel-heading">
          <a role="button" data-toggle="collapse" href="#"
          class="btn btn-sm btn-link" aria-expanded="true">
            <i class="fa fa-chevron-down pull-right"></i>
            [[calendar:response_maybe]]
          </a>
        </div>
        <div class="panel-collapse">
          <div class="panel-body">
            <ul class="plugin-calendar-event-responses-list-maybe">
              <!-- maybe responses go here -->
            </ul>
          </div>
        </div>
      </div>
      <div class="panel panel-default closed">
        <div class="panel-heading">
          <a role="button" data-toggle="collapse" href="#"
          class="btn btn-sm btn-warning" aria-expanded="true">
            <i class="fa fa-chevron-down pull-right"></i>
            [[calendar:response_no]]
          </a>
        </div>
        <div class="panel-collapse">
          <div class="panel-body">
            <ul class="plugin-calendar-event-responses-list-no">
              <!-- no responses go here -->
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`;

  const html = `
<div class="plugin-calendar-event panel panel-success">
  <div class="plugin-calendar-event-name panel-heading">
    ${ event.name }
  </div>
  <div class="panel-body">
    <div class="plugin-calendar-event-date">
      <i class="fa fa-clock-o" aria-hidden="true"></i>
      <a
        data-parsed="false"
        data-allday="${ event.allday }"
        data-startDate="${ event.startDate }"
        data-endDate="${ event.endDate }"
        title="${ dateStringUTC }"
        data-original-title="${ dateStringUTC }"
        class="plugin-calendar-time-date-view"
      >Hover for UTC date</a>
    </div>
    ${ event.location.length ? `
    <div class="plugin-calendar-event-location">
      <i class="fa fa-location-arrow" aria-hidden="true"></i>
      <span>${ event.location }<span>
    </div>
    ` : '' }
    ${ event.description.length ? `
    <div class="plugin-calendar-event-description">
      <i class="fa fa-info-circle" aria-hidden="true"></i>
      <div>${ event.description }</div>
    </div>
    ` : '' }
    ${ event.reminders.length ? `
    <div class="plugin-calendar-event-reminders">
      <i class="fa fa-bell" aria-hidden="true"></i>
      <ul>
        ${ event.reminders.sort((a, b) => a - b).map(makeListElement).join('\n') }
      </ul>
    </div>
    ` : '' }
    ${ responsesTemplate }
  </div>
</div>`.trim();

  return html;
};

exports.default = postTemplate;
exports.formatDates = formatDates;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvdGVtcGxhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7QUFFQSxNQUFNLFdBQVcsVUFBakI7QUFDQSxNQUFNLFdBQVcsSUFBakI7QUFDQSxNQUFNLGNBQWMsTUFBcEI7O0FBRUEsTUFBTSxjQUFjLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxNQUFQLEVBQWUsSUFBZixFQUFxQixHQUFyQixLQUE2QjtBQUMvQyxRQUFNLE1BQU0sTUFBTSxpQkFBTyxHQUFiLG1CQUFaO0FBQ0EsbUJBQU8sTUFBUCxDQUFjLElBQWQ7O0FBRUEsUUFBTSxRQUFRLElBQUksQ0FBSixDQUFkO0FBQ0EsUUFBTSxNQUFNLElBQUksQ0FBSixDQUFaOztBQUVBLE1BQUksS0FBSyxHQUFMLENBQVMsSUFBSSxDQUFiLEtBQW1CLEtBQUssSUFBNUIsRUFBa0M7QUFDaEMsUUFBSSxNQUFKLEVBQVk7QUFDVixhQUFPLE1BQU0sTUFBTixDQUFhLFFBQWIsQ0FBUDtBQUNEO0FBQ0QsV0FBTyxNQUFNLE1BQU4sQ0FBYSxXQUFiLENBQVA7QUFDRDs7QUFFRCxNQUNFLE1BQU0sU0FBTixPQUFzQixJQUFJLFNBQUosRUFBdEIsSUFDQSxNQUFNLElBQU4sT0FBaUIsSUFBSSxJQUFKLEVBRm5CLEVBR0U7QUFDQSxRQUFJLE1BQUosRUFBWTtBQUNWLGFBQU8sTUFBTSxNQUFOLENBQWEsUUFBYixDQUFQO0FBQ0Q7QUFDRCxXQUFRLElBQUUsTUFBTSxNQUFOLENBQWEsUUFBYixDQUF1QixPQUExQixHQUNKLElBQUUsTUFBTSxNQUFOLENBQWEsUUFBYixDQUF1QixRQUFLLElBQUksTUFBSixDQUFXLFFBQVgsQ0FBcUIsR0FEdEQ7QUFFRDs7QUFFRCxNQUFJLE1BQUosRUFBWTtBQUNWLFdBQVEsSUFBRSxNQUFNLE1BQU4sQ0FBYSxRQUFiLENBQXVCLFFBQUssSUFBSSxNQUFKLENBQVcsUUFBWCxDQUFxQixHQUEzRDtBQUNEO0FBQ0QsU0FBUSxJQUFFLE1BQU0sTUFBTixDQUFhLFdBQWIsQ0FBMEIsUUFBSyxJQUFJLE1BQUosQ0FBVyxXQUFYLENBQXdCLEdBQWpFO0FBQ0QsQ0E3QkQ7O0FBK0JBLE1BQU0sT0FBTyxzQkFBTyxDQUFQLENBQWI7O0FBRUEsTUFBTSxrQkFBa0IsS0FBSztBQUMzQixRQUFNLEtBQU0sb0JBQWtCLENBQUUsT0FBSSxLQUFLLEVBQUwsQ0FBUSxDQUFSLEVBQVcsSUFBWCxDQUFpQixRQUFyRDtBQUNBLFNBQU8sRUFBUDtBQUNELENBSEQ7O0FBS0EsTUFBTSxlQUFlLENBQUMsS0FBRCxFQUFRLElBQVIsS0FBaUI7QUFDcEMsUUFBTSxnQkFBZ0IsWUFDcEIsTUFBTSxTQURjLEVBRXBCLE1BQU0sT0FGYyxFQUdwQixNQUFNLE1BSGMsRUFJcEIsSUFKb0IsRUFLcEIsSUFMb0IsRUFNcEIsT0FOb0IsQ0FNWixNQU5ZLEVBTUosS0FOSSxDQUF0Qjs7QUFRQSxRQUFNLG9CQUFxQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BQTNCOztBQW9FQSxRQUFNLE9BQVE7OztNQUFBLENBR1YsTUFBTSxJQUFLOzs7Ozs7O3VCQUFBLENBT00sTUFBTSxNQUFPOzBCQUFBLENBQ1YsTUFBTSxTQUFVO3dCQUFBLENBQ2xCLE1BQU0sT0FBUTtpQkFBQSxDQUNyQixhQUFjOytCQUFBLENBQ0EsYUFBYzs7OztNQUFBLENBSXZDLE1BQU0sUUFBTixDQUFlLE1BQWYsR0FBeUI7OztjQUFBLENBR2pCLE1BQU0sUUFBUzs7S0FIdkIsR0FLRSxFQUFHO01BQUEsQ0FDTCxNQUFNLFdBQU4sQ0FBa0IsTUFBbEIsR0FBNEI7OzthQUFBLENBR3JCLE1BQU0sV0FBWTs7S0FIekIsR0FLRSxFQUFHO01BQUEsQ0FDTCxNQUFNLFNBQU4sQ0FBZ0IsTUFBaEIsR0FBMEI7Ozs7VUFBQSxDQUl0QixNQUFNLFNBQU4sQ0FDQyxJQURELENBQ00sQ0FBQyxDQUFELEVBQUksQ0FBSixLQUFVLElBQUksQ0FEcEIsRUFFQyxHQUZELENBRUssZUFGTCxFQUVzQixJQUZ0QixDQUUyQixJQUYzQixDQUVpQzs7O0tBTnJDLEdBU0UsRUFBRztNQUFBLENBQ0wsaUJBQWtCOztPQXhDVCxDQTBDUCxJQTFDTyxFQUFiOztBQTRDQSxTQUFPLElBQVA7QUFDRCxDQTFIRDs7a0JBNEhlLFk7UUFDTixXLEdBQUEsVyIsImZpbGUiOiJ0ZW1wbGF0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuY29uc3QganVzdERhdGUgPSAnZGRkZCwgTEwnO1xuY29uc3QganVzdFRpbWUgPSAnTFQnO1xuY29uc3QgZGF0ZUFuZFRpbWUgPSAnTExMTCc7XG5cbmNvbnN0IGZvcm1hdERhdGVzID0gKHMsIGUsIGFsbGRheSwgbGFuZywgdXRjKSA9PiB7XG4gIGNvbnN0IG1vbSA9IHV0YyA/IG1vbWVudC51dGMgOiBtb21lbnQ7XG4gIG1vbWVudC5sb2NhbGUobGFuZyk7XG5cbiAgY29uc3Qgc3RhcnQgPSBtb20ocyk7XG4gIGNvbnN0IGVuZCA9IG1vbShlKTtcblxuICBpZiAoTWF0aC5hYnMocyAtIGUpIDw9IDYwICogMTAwMCkge1xuICAgIGlmIChhbGxkYXkpIHtcbiAgICAgIHJldHVybiBzdGFydC5mb3JtYXQoanVzdERhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnQuZm9ybWF0KGRhdGVBbmRUaW1lKTtcbiAgfVxuXG4gIGlmIChcbiAgICBzdGFydC5kYXlPZlllYXIoKSA9PT0gZW5kLmRheU9mWWVhcigpICYmXG4gICAgc3RhcnQueWVhcigpID09PSBlbmQueWVhcigpXG4gICkge1xuICAgIGlmIChhbGxkYXkpIHtcbiAgICAgIHJldHVybiBzdGFydC5mb3JtYXQoanVzdERhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gYCR7c3RhcnQuZm9ybWF0KGp1c3REYXRlKX08YnI+YCArXG4gICAgICBgJHtzdGFydC5mb3JtYXQoanVzdFRpbWUpfSAtICR7ZW5kLmZvcm1hdChqdXN0VGltZSl9YDtcbiAgfVxuXG4gIGlmIChhbGxkYXkpIHtcbiAgICByZXR1cm4gYCR7c3RhcnQuZm9ybWF0KGp1c3REYXRlKX0gLSAke2VuZC5mb3JtYXQoanVzdERhdGUpfWA7XG4gIH1cbiAgcmV0dXJuIGAke3N0YXJ0LmZvcm1hdChkYXRlQW5kVGltZSl9IC0gJHtlbmQuZm9ybWF0KGRhdGVBbmRUaW1lKX1gO1xufTtcblxuY29uc3QgemVybyA9IG1vbWVudCgwKTtcblxuY29uc3QgbWFrZUxpc3RFbGVtZW50ID0gbiA9PiB7XG4gIGNvbnN0IGxpID0gYDxsaSBkYXRhLXZhbHVlPVwiJHtufVwiPiR7emVyby50byhuLCB0cnVlKX08L2xpPmA7XG4gIHJldHVybiBsaTtcbn07XG5cbmNvbnN0IHBvc3RUZW1wbGF0ZSA9IChldmVudCwgbGFuZykgPT4ge1xuICBjb25zdCBkYXRlU3RyaW5nVVRDID0gZm9ybWF0RGF0ZXMoXG4gICAgZXZlbnQuc3RhcnREYXRlLFxuICAgIGV2ZW50LmVuZERhdGUsXG4gICAgZXZlbnQuYWxsZGF5LFxuICAgIGxhbmcsXG4gICAgdHJ1ZVxuICApLnJlcGxhY2UoJzxicj4nLCAnIHwgJyk7XG5cbiAgY29uc3QgcmVzcG9uc2VzVGVtcGxhdGUgPSBgXG48ZGl2IGNsYXNzPVwicGx1Z2luLWNhbGVuZGFyLWV2ZW50LXJlc3BvbnNlc1wiPlxuICA8aSBjbGFzcz1cImZhIGZhLXJlcGx5XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICA8ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS02XCI+XG4gICAgPGRpdiBjbGFzcz1cInBsdWdpbi1jYWxlbmRhci1ldmVudC1yZXNwb25zZXMtdXNlciBidG4tZ3JvdXBcIj5cbiAgICAgIDxidXR0b24gZGF0YS12YWx1ZT1cIm5vXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyXCI+XG4gICAgICAgIFtbY2FsZW5kYXI6cmVzcG9uc2Vfbm9dXVxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uIGRhdGEtdmFsdWU9XCJtYXliZVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLWRlZmF1bHRcIj5cbiAgICAgICAgW1tjYWxlbmRhcjpyZXNwb25zZV9tYXliZV1dXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gZGF0YS12YWx1ZT1cInllc1wiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXN1Y2Nlc3NcIj5cbiAgICAgICAgW1tjYWxlbmRhcjpyZXNwb25zZV95ZXNdXVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInBhbmVsLWdyb3VwIHBsdWdpbi1jYWxlbmRhci1ldmVudC1yZXNwb25zZXMtbGlzdHNcIiBkYXRhLWxvYWRlZD1cImZhbHNlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBjbG9zZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8YSByb2xlPVwiYnV0dG9uXCIgZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiIGhyZWY9XCIjXCJcbiAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc20gYnRuLWluZm9cIiBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1jaGV2cm9uLWRvd24gcHVsbC1yaWdodFwiPjwvaT5cbiAgICAgICAgICAgIFtbY2FsZW5kYXI6cmVzcG9uc2VfeWVzXV1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29sbGFwc2VcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwicGx1Z2luLWNhbGVuZGFyLWV2ZW50LXJlc3BvbnNlcy1saXN0LXllc1wiPlxuICAgICAgICAgICAgICA8IS0tIHllcyByZXNwb25zZXMgZ28gaGVyZSAtLT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBjbG9zZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8YSByb2xlPVwiYnV0dG9uXCIgZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiIGhyZWY9XCIjXCJcbiAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc20gYnRuLWxpbmtcIiBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1jaGV2cm9uLWRvd24gcHVsbC1yaWdodFwiPjwvaT5cbiAgICAgICAgICAgIFtbY2FsZW5kYXI6cmVzcG9uc2VfbWF5YmVdXVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb2xsYXBzZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJwbHVnaW4tY2FsZW5kYXItZXZlbnQtcmVzcG9uc2VzLWxpc3QtbWF5YmVcIj5cbiAgICAgICAgICAgICAgPCEtLSBtYXliZSByZXNwb25zZXMgZ28gaGVyZSAtLT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBjbG9zZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8YSByb2xlPVwiYnV0dG9uXCIgZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiIGhyZWY9XCIjXCJcbiAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc20gYnRuLXdhcm5pbmdcIiBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1jaGV2cm9uLWRvd24gcHVsbC1yaWdodFwiPjwvaT5cbiAgICAgICAgICAgIFtbY2FsZW5kYXI6cmVzcG9uc2Vfbm9dXVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb2xsYXBzZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJwbHVnaW4tY2FsZW5kYXItZXZlbnQtcmVzcG9uc2VzLWxpc3Qtbm9cIj5cbiAgICAgICAgICAgICAgPCEtLSBubyByZXNwb25zZXMgZ28gaGVyZSAtLT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+YDtcblxuICBjb25zdCBodG1sID0gYFxuPGRpdiBjbGFzcz1cInBsdWdpbi1jYWxlbmRhci1ldmVudCBwYW5lbCBwYW5lbC1zdWNjZXNzXCI+XG4gIDxkaXYgY2xhc3M9XCJwbHVnaW4tY2FsZW5kYXItZXZlbnQtbmFtZSBwYW5lbC1oZWFkaW5nXCI+XG4gICAgJHtldmVudC5uYW1lfVxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIj5cbiAgICA8ZGl2IGNsYXNzPVwicGx1Z2luLWNhbGVuZGFyLWV2ZW50LWRhdGVcIj5cbiAgICAgIDxpIGNsYXNzPVwiZmEgZmEtY2xvY2stb1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgIDxhXG4gICAgICAgIGRhdGEtcGFyc2VkPVwiZmFsc2VcIlxuICAgICAgICBkYXRhLWFsbGRheT1cIiR7ZXZlbnQuYWxsZGF5fVwiXG4gICAgICAgIGRhdGEtc3RhcnREYXRlPVwiJHtldmVudC5zdGFydERhdGV9XCJcbiAgICAgICAgZGF0YS1lbmREYXRlPVwiJHtldmVudC5lbmREYXRlfVwiXG4gICAgICAgIHRpdGxlPVwiJHtkYXRlU3RyaW5nVVRDfVwiXG4gICAgICAgIGRhdGEtb3JpZ2luYWwtdGl0bGU9XCIke2RhdGVTdHJpbmdVVEN9XCJcbiAgICAgICAgY2xhc3M9XCJwbHVnaW4tY2FsZW5kYXItdGltZS1kYXRlLXZpZXdcIlxuICAgICAgPkhvdmVyIGZvciBVVEMgZGF0ZTwvYT5cbiAgICA8L2Rpdj5cbiAgICAke2V2ZW50LmxvY2F0aW9uLmxlbmd0aCA/IGBcbiAgICA8ZGl2IGNsYXNzPVwicGx1Z2luLWNhbGVuZGFyLWV2ZW50LWxvY2F0aW9uXCI+XG4gICAgICA8aSBjbGFzcz1cImZhIGZhLWxvY2F0aW9uLWFycm93XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgPHNwYW4+JHtldmVudC5sb2NhdGlvbn08c3Bhbj5cbiAgICA8L2Rpdj5cbiAgICBgIDogJyd9XG4gICAgJHtldmVudC5kZXNjcmlwdGlvbi5sZW5ndGggPyBgXG4gICAgPGRpdiBjbGFzcz1cInBsdWdpbi1jYWxlbmRhci1ldmVudC1kZXNjcmlwdGlvblwiPlxuICAgICAgPGkgY2xhc3M9XCJmYSBmYS1pbmZvLWNpcmNsZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgIDxkaXY+JHtldmVudC5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgIDogJyd9XG4gICAgJHtldmVudC5yZW1pbmRlcnMubGVuZ3RoID8gYFxuICAgIDxkaXYgY2xhc3M9XCJwbHVnaW4tY2FsZW5kYXItZXZlbnQtcmVtaW5kZXJzXCI+XG4gICAgICA8aSBjbGFzcz1cImZhIGZhLWJlbGxcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICA8dWw+XG4gICAgICAgICR7ZXZlbnQucmVtaW5kZXJzXG4gICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEgLSBiKVxuICAgICAgICAgIC5tYXAobWFrZUxpc3RFbGVtZW50KS5qb2luKCdcXG4nKX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICAgYCA6ICcnfVxuICAgICR7cmVzcG9uc2VzVGVtcGxhdGV9XG4gIDwvZGl2PlxuPC9kaXY+YC50cmltKCk7XG5cbiAgcmV0dXJuIGh0bWw7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwb3N0VGVtcGxhdGU7XG5leHBvcnQgeyBmb3JtYXREYXRlcyB9O1xuIl19