'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.privilegesListHuman = exports.privilegesGroupsList = exports.privilegesList = exports.canPostEvent = exports.canViewPost = undefined;

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const p = _bluebird2.default.promisify;

const privileges = require.main.require('./src/privileges');
const privilegesPostCan = p(privileges.posts.can);
const canViewPost = (pid, uid) => privilegesPostCan('read', pid, uid);
const canPostEvent = (pid, uid) => privilegesPostCan('plugin-calendar:event:post', pid, uid);

const privilegesList = (list, callback) => callback(null, [...list, 'plugin-calendar:event:post']);
const privilegesGroupsList = (list, callback) => callback(null, [...list, 'groups:plugin-calendar:event:post']);
const privilegesListHuman = (list, callback) => callback(null, [...list, { name: 'Post events' }]);

exports.canViewPost = canViewPost;
exports.canPostEvent = canPostEvent;
exports.privilegesList = privilegesList;
exports.privilegesGroupsList = privilegesGroupsList;
exports.privilegesListHuman = privilegesListHuman;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvcHJpdmlsZWdlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7OztBQUNBLE1BQU0sSUFBSSxtQkFBUSxTQUFsQjs7QUFFQSxNQUFNLGFBQWEsUUFBUSxJQUFSLENBQWEsT0FBYixDQUFxQixrQkFBckIsQ0FBbkI7QUFDQSxNQUFNLG9CQUFvQixFQUFFLFdBQVcsS0FBWCxDQUFpQixHQUFuQixDQUExQjtBQUNBLE1BQU0sY0FBYyxDQUFDLEdBQUQsRUFBTSxHQUFOLEtBQWMsa0JBQWtCLE1BQWxCLEVBQTBCLEdBQTFCLEVBQStCLEdBQS9CLENBQWxDO0FBQ0EsTUFBTSxlQUFlLENBQUMsR0FBRCxFQUFNLEdBQU4sS0FBYyxrQkFBa0IsNEJBQWxCLEVBQWdELEdBQWhELEVBQXFELEdBQXJELENBQW5DOztBQUVBLE1BQU0saUJBQWlCLENBQUMsSUFBRCxFQUFPLFFBQVAsS0FDckIsU0FBUyxJQUFULEVBQWUsQ0FBQyxHQUFHLElBQUosRUFBVSw0QkFBVixDQUFmLENBREY7QUFFQSxNQUFNLHVCQUF1QixDQUFDLElBQUQsRUFBTyxRQUFQLEtBQzNCLFNBQVMsSUFBVCxFQUFlLENBQUMsR0FBRyxJQUFKLEVBQVUsbUNBQVYsQ0FBZixDQURGO0FBRUEsTUFBTSxzQkFBc0IsQ0FBQyxJQUFELEVBQU8sUUFBUCxLQUMxQixTQUFTLElBQVQsRUFBZSxDQUFDLEdBQUcsSUFBSixFQUFVLEVBQUUsTUFBTSxhQUFSLEVBQVYsQ0FBZixDQURGOztRQUlFLFcsR0FBQSxXO1FBQ0EsWSxHQUFBLFk7UUFDQSxjLEdBQUEsYztRQUNBLG9CLEdBQUEsb0I7UUFDQSxtQixHQUFBLG1CIiwiZmlsZSI6InByaXZpbGVnZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XHJcbmNvbnN0IHAgPSBQcm9taXNlLnByb21pc2lmeTtcclxuXHJcbmNvbnN0IHByaXZpbGVnZXMgPSByZXF1aXJlLm1haW4ucmVxdWlyZSgnLi9zcmMvcHJpdmlsZWdlcycpO1xyXG5jb25zdCBwcml2aWxlZ2VzUG9zdENhbiA9IHAocHJpdmlsZWdlcy5wb3N0cy5jYW4pO1xyXG5jb25zdCBjYW5WaWV3UG9zdCA9IChwaWQsIHVpZCkgPT4gcHJpdmlsZWdlc1Bvc3RDYW4oJ3JlYWQnLCBwaWQsIHVpZCk7XHJcbmNvbnN0IGNhblBvc3RFdmVudCA9IChwaWQsIHVpZCkgPT4gcHJpdmlsZWdlc1Bvc3RDYW4oJ3BsdWdpbi1jYWxlbmRhcjpldmVudDpwb3N0JywgcGlkLCB1aWQpO1xyXG5cclxuY29uc3QgcHJpdmlsZWdlc0xpc3QgPSAobGlzdCwgY2FsbGJhY2spID0+XHJcbiAgY2FsbGJhY2sobnVsbCwgWy4uLmxpc3QsICdwbHVnaW4tY2FsZW5kYXI6ZXZlbnQ6cG9zdCddKTtcclxuY29uc3QgcHJpdmlsZWdlc0dyb3Vwc0xpc3QgPSAobGlzdCwgY2FsbGJhY2spID0+XHJcbiAgY2FsbGJhY2sobnVsbCwgWy4uLmxpc3QsICdncm91cHM6cGx1Z2luLWNhbGVuZGFyOmV2ZW50OnBvc3QnXSk7XHJcbmNvbnN0IHByaXZpbGVnZXNMaXN0SHVtYW4gPSAobGlzdCwgY2FsbGJhY2spID0+XHJcbiAgY2FsbGJhY2sobnVsbCwgWy4uLmxpc3QsIHsgbmFtZTogJ1Bvc3QgZXZlbnRzJyB9XSk7XHJcblxyXG5leHBvcnQge1xyXG4gIGNhblZpZXdQb3N0LFxyXG4gIGNhblBvc3RFdmVudCxcclxuICBwcml2aWxlZ2VzTGlzdCxcclxuICBwcml2aWxlZ2VzR3JvdXBzTGlzdCxcclxuICBwcml2aWxlZ2VzTGlzdEh1bWFuLFxyXG59O1xyXG4iXX0=